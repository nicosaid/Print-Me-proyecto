<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Print Me</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../../general/css/topbar.css">
    <link rel="stylesheet" href="../css/pantallainicio.css">
    <link rel="stylesheet" href="/usuario/css/servicio.css"><!--agrego esto para el boton ir al pedido css-->

</head>



<link rel="apple-touch-icon" sizes="180x180" href="../../general/icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../general/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../general/icon/favicon-16x16.png">
    <link rel="manifest" href="../../general/icon/site.webmanifest">



<body>
  

    <header>
        <div clas s="card">
            <div class="loader">
              <p>PrintMe</p>
              <div class="words">
                <span class="word">1 Elegis</span>
                <span class="word">2 Mandas</span>
                <span class="word">3 Te imprimen</span>
                <span class="word">4 Recibis</span>
                <span class="word">1 Elegis</span>
              </div>
            </div>
          </div>     
          
       

        <div class="option-container">

        
        <a href="../html/cotizador.html" class="optioncoti" ><p>Cotizador</p></a>
          <a href="../html/miperfilduenio.html" class="optionmiperf" ><p>Mi perfil</p></a>
          <a href="../html/inicio.html" class="optionpedid" ><p>Pedidos</p></a>

          <button class="logout-button" onclick="togglePopupLogout()" >   <p>Cerrar Sesion</p>  </button>


<div class="popup-container-logout" id="popup-container-logout">
    <h2>¿Estás seguro?</h2>

    <div class="button-container-logout">
        <button  id="cerrar-sesion-btn"  class="popup-button-logout confirm-button-logout" onclick="cerrarSesion()">Sí, cerrar sesión</button>
        <button class="popup-button-logout cancel-button-logout" onclick="togglePopupLogout()">Cancelar</button>
    </div>
</div>


      <div class="overlay-logout" onclick="togglePopupLogout()"></div>
    </div>
  </header>

  <main class="main-content">
    <section class="container top-products">
      <h1 class="heading-1">Selecciona pedidos a rechazar o aceptar</h1>

      <div class="principaldiv">
        <input class="input" placeholder="Buscar..." id="buscador" />
        <button class="buscarenter" onclick="buscar()">Buscar</button>

        <div class="container-options">
          <span id="MostrarPendientes" onclick="mostrarPendientes()" class="active">Pendientes</span>
          <span onclick="mostrarAceptados()">Aceptados</span>
          <span onclick="mostrarRechazados()">Rechazados</span>
        </div>

        <!-- === Pendientes === -->
        <div id="Pendientes" class="pedidos-seccion">
          <div class="card">
            <img src="../fotos/impresora 3d.png" alt="3D Printer" class="printer-image" />
            <div class="info">
              <h2>Juan Pérez</h2>
              <p>Modelo: Porta Celular</p>
              <p>Color: Rojo - Material: PLA</p>
              <p>Estado: Pendiente</p>
              <button class="aceptar">Aceptar</button>
              <button class="rechazar">Rechazar</button>
            </div>
          </div>

          <div class="card">
            <img src="../fotos/impresora 3d.png" alt="3D Printer" class="printer-image" />
            <div class="info">
              <h2>María Gómez</h2>
              <p>Modelo: Soporte de Notebook</p>
              <p>Color: Negro - Material: ABS</p>
              <p>Estado: Pendiente</p>
              <button class="aceptar">Aceptar</button>
              <button class="rechazar">Rechazar</button>
            </div>
          </div>

          <div class="card">
            <img src="../fotos/impresora 3d.png" alt="3D Printer" class="printer-image" />
            <div class="info">
              <h2>Luis Fernández</h2>
              <p>Modelo: Llaveros Personalizados</p>
              <p>Color: Azul - Material: PETG</p>
              <p>Estado: Pendiente</p>
              <button class="aceptar">Aceptar</button>
              <button class="rechazar">Rechazar</button>
            </div>
          </div>
        </div>

        <!-- === Aceptados === -->
        <div id="Aceptados" class="pedidos-seccion" style="display:none;"></div>

        <!-- === Rechazados === -->
        <div id="Rechazados" class="pedidos-seccion" style="display:none;"></div>
      </div>
    </section>
  </main>

  <!-- JS FUNCIONALIDAD -->
  <script>
    function mostrarPendientes() {
      document.getElementById("Pendientes").style.display = "block";
      document.getElementById("Aceptados").style.display = "none";
      document.getElementById("Rechazados").style.display = "none";
    }

    function mostrarAceptados() {
      document.getElementById("Pendientes").style.display = "none";
      document.getElementById("Aceptados").style.display = "block";
      document.getElementById("Rechazados").style.display = "none";
    }

    function mostrarRechazados() {
      document.getElementById("Pendientes").style.display = "none";
      document.getElementById("Aceptados").style.display = "none";
      document.getElementById("Rechazados").style.display = "block";
    }

    document.addEventListener("click", function (e) {
      if (e.target.classList.contains("aceptar")) {
        const card = e.target.closest(".card");
        moverACategoria(card, "Aceptados");
      }
      if (e.target.classList.contains("rechazar")) {
        const card = e.target.closest(".card");
        moverACategoria(card, "Rechazados");
      }
    });

    function moverACategoria(card, destinoId) {
      const nuevoCard = card.cloneNode(true);
      const info = nuevoCard.querySelector(".info");

      const aceptar = info.querySelector(".aceptar");
      const rechazar = info.querySelector(".rechazar");
      if (aceptar) aceptar.remove();
      if (rechazar) rechazar.remove();

      const estado = info.querySelector("p:last-of-type");
      estado.innerText = destinoId === "Aceptados" ? "Estado: Aceptado" : "Estado: Rechazado";

      document.getElementById(destinoId).appendChild(nuevoCard);
      card.remove();
    }

    function togglePopupLogout() {
      const popup = document.getElementById("popup-container-logout");
      const overlay = document.querySelector(".overlay-logout");
      if (popup.style.display === "none" || !popup.style.display) {
        popup.style.display = "block";
        overlay.style.display = "block";
      } else {
        popup.style.display = "none";
        overlay.style.display = "none";
      }
    }

    function cerrarSesion() {
      // Aquí podés agregar lógica real de cierre de sesión
      alert("Sesión cerrada.");
    }
  </script>

  <script src="https://kit.fontawesome.com/81581fb069.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
  <script src="/general/js/cerrarsesion.js"></script>
  <script src="/dueño/js/pedidos.js"></script>
</body>
</html>
